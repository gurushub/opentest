package com.open.test.perf

import io.gatling.core.scenario.Simulation
import io.gatling.core.Predef._
import io.gatling.http.Predef._
import java.util.Date
import scala.concurrent.duration.FiniteDuration
import scala.concurrent.duration.Duration
import java.util.concurrent.TimeUnit

class ApiGatlingSimulationTest extends Simulation {

  val scn = scenario("PERF-GETMOVIES").repeat(10, "n") 
		  {
      exec(
        http("GetAllMovies")
          .get("http://stage.opentest.run/movies/")
          .check(status.is(200))
      )   
}
  
  setUp(scn.inject(atOnceUsers(2))).maxDuration(FiniteDuration.apply(1, "minutes"))
  
}