package com.open.pact;



import java.io.IOException;

import org.apache.http.HttpResponse;
import org.apache.http.client.fluent.Request;
import org.apache.http.util.EntityUtils;

public class DummyConsumerOpenTest {
	 private String url;

	    public DummyConsumerOpenTest(String url) {
	        this.url = url;
	    }

	    public int getMovies() throws IOException{
//	        HttpResponse response = getResponse("/restapi/movies/");
	    	System.out.println(EntityUtils.toString(Request.Get(url + "/restapi/movies/")
            .execute().returnResponse().getEntity()));
	       return Request.Get(url + "/restapi/movies/")
            .execute().returnResponse().getStatusLine().getStatusCode();
	       
//	       return EntityUtils.toString(Request.Get(url + "/restapi/movies/")
//	               .execute().returnResponse().getEntity());
	      
	    }

//	    private String getEntityAsString(HttpResponse response) throws IOException {
//	        return EntityUtils.toString(response.getEntity());
//	    }
//
//	    public HttpResponse getResponse(String path) throws IOException {
//	            return Request.Get(url + path)
//	                .execute().returnResponse();
//	    	
//	    }

}
